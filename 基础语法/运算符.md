## 运算符

在 Go 语言中，运算符用于对变量和常量进行各种操作。为了编写高效、易读的代码，充分了解这些运算符的类型和用法是很重要的。

---

### 分类与描述

运算符在 Go 中可以分为以下几类：

1. **算术运算符**：用于基本的数学计算。
2. **关系运算符**：用于比较两个值。
3. **逻辑运算符**：用于布尔值的逻辑操作。
4. **位运算符**：用于按位操作。
5. **赋值运算符**：用于变量赋值和更新。
6. **其他运算符**：如指针操作和类型断言。

---

### 1. 算术运算符

#### 补充说明
- 整数除法会舍弃小数部分。例如，`10 / 3` 的结果是 `3`。
- 不支持自增和自减运算符（如 `a++` 或 `a--`），需要用 `a += 1` 或 `a -= 1` 替代。

#### 示例

```go
package main

import "fmt"

func main() {
	a := 10
	b := 3
	fmt.Println("加法:", a+b)  // 输出: 13
	fmt.Println("减法:", a-b)  // 输出: 7
	fmt.Println("乘法:", a*b)  // 输出: 30
	fmt.Println("除法:", a/b)  // 输出: 3
	fmt.Println("取模:", a%b)  // 输出: 1
}
```

---

### 2. 关系运算符

#### 补充说明
- 比较运算符结果总是布尔值 (`true` 或 `false`)。
- 可以比较任何可比较的数据类型，包括数字、字符串、布尔值和数组。

#### 示例

```go
package main

import "fmt"

func main() {
	a := "Go"
	b := "Language"
	fmt.Println("相等:", a == b)  // 输出: false
	fmt.Println("不等:", a != b)  // 输出: true

	x := 42
	y := 42
	fmt.Println("大于等于:", x >= y) // 输出: true
}
```

---

### 3. 逻辑运算符

#### 补充说明
- 短路特性：对于 `&&` 和 `||`，如果左侧表达式已经可以决定结果，则右侧表达式不会被计算。

#### 示例

```go
package main

import "fmt"

func main() {
	a := true
	b := false

	// 短路特性
	fmt.Println("逻辑与:", a && b) // 输出: false
	fmt.Println("逻辑或:", a || b) // 输出: true
	fmt.Println("逻辑非:", !a)    // 输出: false

	// 示例：短路特性
	if a || (10/0 == 1) { // 不会报错，因为短路导致 `10/0` 未执行
		fmt.Println("短路生效")
	}
}
```

---

### 4. 位运算符

#### 补充说明
- 位运算符用于按位操作二进制表示的数值。
- 注意位移运算符的右操作数必须是无符号整数类型，否则会报错。

#### 补充示例：位运算

```go
package main

import "fmt"

func main() {
	a := 5  // 二进制: 0101
	b := 12 // 二进制: 1100

	fmt.Println("按位与:", a&b)  // 输出: 4  (二进制: 0100)
	fmt.Println("按位或:", a|b)  // 输出: 13 (二进制: 1101)
	fmt.Println("按位异或:", a^b) // 输出: 9  (二进制: 1001)
	fmt.Println("左移:", a<<1)   // 输出: 10 (二进制: 1010)
	fmt.Println("右移:", a>>1)   // 输出: 2  (二进制: 0010)
}
```

---

### 5. 赋值运算符

#### 补充说明
- 复合赋值运算符（如 `+=`、`-=` 等）是对普通赋值的简写形式，方便更新变量值。

#### 示例

```go
package main

import "fmt"

func main() {
	a := 15

	a += 5         // 等价于 a = a + 5
	fmt.Println(a) // 输出: 20

	a *= 2         // 等价于 a = a * 2
	fmt.Println(a) // 输出: 40

	a >>= 2        // 等价于 a = a >> 2
	fmt.Println(a) // 输出: 10
}
```

---

### 6. 其他运算符

#### 补充说明

1. **取地址与解引用**
    - `&`：返回变量的地址。
    - `*`：返回指针指向的值。

2. **类型断言**
    - 用于断言接口类型的具体类型。

#### 示例

##### 取地址与解引用

```go
package main

import "fmt"

func main() {
	a := 42
	p := &a         // 取地址
	fmt.Println(p)  // 输出: 变量 a 的内存地址
	fmt.Println(*p) // 输出: 42 (解引用)

	*p = 21         // 修改指针指向的值
	fmt.Println(a)  // 输出: 21
}
```

##### 类型断言

```go
package main

import "fmt"

func main() {
	var i interface{} = "hello"

	// 类型断言
	s, ok := i.(string)
	if ok {
		fmt.Println("断言成功:", s) // 输出: hello
	} else {
		fmt.Println("断言失败")
	}

	// 简化写法：直接使用
	if s, ok := i.(string); ok {
		fmt.Println("断言成功:", s)
	}
}
```

---

### 运算符优先级

运算符有优先级规则，优先级高的运算符会先执行。

#### 优先级从高到低如下：

1. `*` `/` `%` `<<` `>>` `&` `&^`
2. `+` `-` `|` `^`
3. `==` `!=` `<` `<=` `>` `>=`
4. `&&`
5. `||`

---
